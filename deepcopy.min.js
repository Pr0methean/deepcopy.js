/*!
 * @license deepcopy.js Copyright(c) 2013 sasa+1
 * https://github.com/sasaplus1/deepcopy.js
 * Released under the MIT license.
 */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.deepcopy=t()}(this,function(){"use strict";function e(t,f,u,c){var p,y,s,a,l,b,j,d,g,A,h;if(null===t||"object"!=typeof t)return t;if(r.isDate(t))return new Date(+t);if(r.isRegExp(t))return p=String(t),y=p.lastIndexOf("/"),new RegExp(p.slice(1,y),p.slice(y+1));if(n(t))return s=new Buffer(t.length),t.copy(s),s;for(a=o(t),l=0,b=a.length;b>l;++l)j=a[l],d=t[j],null!==d&&"object"==typeof d&&(g=i(u,d),-1===g?(A=r.isArray(d)?[]:{},u.push(d),c.push(A)):h=c[g]),f[j]=h||e(d,A,u,c);return f}function deepcopy(t){var n=r.isArray(t)?[]:{},o=[t],i=[n];return e(t,n,o,i)}var t,r,n,o,i;return t="undefined"!=typeof process&&"undefined"!=typeof require,r=t?require("util"):function(){function e(e){return"object"==typeof e&&"[object Array]"===Object.prototype.toString.call(e)}function t(e){return"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function r(e){return"object"==typeof e&&"[object RegExp]"===Object.prototype.toString.call(e)}return{isArray:"function"==typeof Array.isArray?function(e){return Array.isArray(e)}:e,isDate:t,isRegExp:r}}(),n=t?function(e){return Buffer.isBuffer(e)}:function(){return!1},o="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t,r=[];if(null===e||"object"!=typeof e)throw new TypeError("obj is not an Object");for(t in e)e.hasOwnProperty(t)&&r.push(t);return r},i="function"==typeof Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){var n,o;if(!r.isArray(e))throw new TypeError("array is not an Array");for(n=0,o=e.length;o>n;++n)if(e[n]===t)return n;return-1},deepcopy});